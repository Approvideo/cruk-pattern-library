+function($){"use strict";window.cruk_base={},cruk_base.is_touch_device="ontouchstart"in document.documentElement,$(".cr-input-group__input").on("focus",function(){$(this).parent().addClass("cr-input-group--focused")}).on("blur",function(){$(this).parent().removeClass("cr-input-group--focused")})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("cruk.search_cip"),options=$.extend({},SearchCIP.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("cruk.search_cip",data=new SearchCIP(this,options))})}var SearchCIP=function(element,options){this.$element=$(element),this.$form=this.$element.closest("form"),this.$input=this.$element.find(".cr-search-input__input"),this.$icon=this.$element.find(".cr-input-group__icon"),this.options=options,this.last_search=null,this.active=null,this.$form.on("submit",$.proxy(this.submitHandler,this)),this.$input.on("input",$.proxy(this.inputChange,this)),this.$icon.on("click",$.proxy(this.iconClick,this))};SearchCIP.VERSION="0.0.1",SearchCIP.DEFAULTS={force_touch:!0},SearchCIP.prototype.switchIcons=function(){var input_value=this.$input.val();""!==input_value&&this.$icon.hasClass("glyphicon-search")&&this.$icon.fadeOut("fast",function(){$(this).removeClass("glyphicon-search").addClass("glyphicon-remove").fadeIn("fast")}),""===input_value&&this.$icon.hasClass("glyphicon-remove")&&this.$icon.fadeOut("fast",function(){$(this).removeClass("glyphicon-remove").addClass("glyphicon-search").fadeIn("fast")})},SearchCIP.prototype.iconClick=function(){this.$icon.hasClass("glyphicon-remove")&&(this.last_search=null,this.$input.val("").focus(),this.switchIcons())},SearchCIP.prototype.inputChange=function(){(cruk_base.is_touch_device||this.options.force_touch)&&""===this.$input.val()&&this.switchIcons()},SearchCIP.prototype.submitHandler=function(e){e.preventDefault();var input_value=this.$input.val();return""===input_value||""!==this.last_search&&this.last_search===input_value?!1:(this.last_search=input_value,void((cruk_base.is_touch_device||this.options.force_touch)&&this.switchIcons()))};var old=$.fn.search_cip;$.fn.search_cip=Plugin,$.fn.search_cip.Constructor=SearchCIP,$.fn.search_cip.noConflict=function(){return $.fn.search_cip=old,this},$(window).on("load",function(){$('[data-search-field="combined-ip"]').each(function(){var $search_cip=$(this);Plugin.call($search_cip,$search_cip.data())})})}(jQuery);